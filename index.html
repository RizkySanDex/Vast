<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Video Super Canggih + VAST + Widget Ads</title>

  <!-- Video.js CSS -->
  <link href="https://vjs.zencdn.net/8.0.4/video-js.css" rel="stylesheet" />

  <style>
    body {
      margin: 0;
      padding: 0;
      background: #0f172a;
      font-family: Arial, sans-serif;
      color: #fff;
    }

    /* Container utama */
    .player-wrapper {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100vh;
      position: relative;
    }

    /* Video fullscreen */
    .video-js {
      width: 100%;
      height: 100%;
      max-height: 100vh;
      z-index: 1;
    }

    /* Widget Ads */
    .ad-top, .ad-bottom {
      width: 100%;
      text-align: center;
      z-index: 10;
    }

    .ad-top {
      margin-bottom: 5px;
    }

    .ad-bottom {
      margin-top: 5px;
    }

    .ad-corner {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 10;
      pointer-events: auto;
    }

    /* Geser control bar supaya tidak tertutup iklan pojok */
    .video-js .vjs-control-bar {
      z-index: 2;
      bottom: 60px !important;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .ad-top ins,
      .ad-bottom ins,
      .ad-corner ins {
        width: 100% !important;
        max-width: 100% !important;
        height: auto !important;
      }

      .video-js .vjs-control-bar {
        bottom: 50px !important;
      }
    }
  </style>
</head>
<body>

  <!-- Iklan Top -->
  <div class="ad-top">
    <script async src="https://a.magsrv.com/ad-provider.js"></script>
    <ins class="eas6a97888e20" data-zoneid="5721014"></ins>
    <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
  </div>

  <!-- Player Wrapper -->
  <div class="player-wrapper">
    <video
      id="superVideo"
      class="video-js vjs-default-skin"
      controls
      muted
      autoplay
      preload="auto"
      loop
    >
      <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
      Browser kamu tidak mendukung video.
    </video>
  </div>

  <!-- Iklan Bottom -->
  <div class="ad-bottom">
    <script async src="https://a.magsrv.com/ad-provider.js"></script>
    <ins class="eas6a97888e20" data-zoneid="5721014"></ins>
    <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
  </div>

  <!-- Iklan Corner -->
  <div class="ad-corner">
    <script async src="https://a.magsrv.com/ad-provider.js"></script>
    <ins class="eas6a97888e31" data-zoneid="5720040"></ins>
    <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
  </div>

  <!-- Video.js + VAST -->
  <script src="https://vjs.zencdn.net/8.0.4/video.min.js"></script>
  <script src="https://unpkg.com/videojs-contrib-ads@6.9.0/dist/videojs-contrib-ads.min.js"></script>
  <script src="https://unpkg.com/videojs-ima@1.11.0/dist/videojs.ima.min.js"></script>

  <script>
    const playlist = [
      "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
      "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
      "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4"
    ];

    let currentVideo = 0;
    const player = videojs('superVideo');

    // VAST pre-roll setup
    player.ima({
      adTagUrl: 'https://s.magsrv.com/v1/vast.php?idzone=5720036',
      debug: true
    });

    player.ready(function() {
      player.ima.initializeAdDisplayContainer();
      player.ima.requestAds();

      player.on('ended', function() {
        // Auto next video di playlist
        currentVideo++;
        if(currentVideo >= playlist.length) currentVideo = 0; // loop playlist
        player.src({type: 'video/mp4', src: playlist[currentVideo]});
        player.play();
        player.ima.requestAds(); // VAST pre-roll untuk video berikutnya
      });
    });
  </script>

</body>
</html>
